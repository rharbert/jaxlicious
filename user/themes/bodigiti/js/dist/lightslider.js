!function(w,e){"use strict";var n={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!1,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onBeforeSlide:function(e,i){},onAfterSlide:function(e,i){},onBeforeNextSlide:function(e,i){},onBeforePrevSlide:function(e,i){}};w.fn.lightSlider=function(e){if(0===this.length)return this;if(1<this.length)return this.each(function(){w(this).lightSlider(e)}),this;var t={},f=w.extend(!0,{},n,e),l={},h=this;t.$el=this,"fade"===f.mode&&(f.vertical=!1);var d=h.children(),a=w(window).width(),s=null,o=0,g=0,i=!1,v=0,p="",m=0,S=!0===f.vertical?"height":"width",b=!0===f.vertical?"margin-bottom":"margin-right",c=0,C=0,M=0,T=0,r=null,u="ontouchstart"in document.documentElement,x={chbreakpoint:function(){if(a=w(window).width(),f.responsive.length){var e;if(!1===f.autoWidth&&(e=f.item),a<f.responsive[0].breakpoint)for(var i=0;i<f.responsive.length;i++)a<f.responsive[i].breakpoint&&(f.responsive[i].breakpoint,s=f.responsive[i]);if(null!=s)for(var t in s.settings)s.settings.hasOwnProperty(t)&&(void 0!==l[t]&&null!==l[t]||(l[t]=f[t]),f[t]=s.settings[t]);if(!w.isEmptyObject(l)&&a>f.responsive[0].breakpoint)for(var n in l)l.hasOwnProperty(n)&&(f[n]=l[n]);!1===f.autoWidth&&0<c&&0<M&&e!==f.item&&(m=Math.round(c/((M+f.slideMargin)*f.slideMove)))}},calSW:function(){!1===f.autoWidth&&(M=(v-(f.item*f.slideMargin-f.slideMargin))/f.item)},calWidth:function(e){var i=!0===e?p.find(".lslide").length:d.length;if(!1===f.autoWidth)g=i*(M+f.slideMargin);else for(var t=g=0;t<i;t++)g+=parseInt(d.eq(t).width())+f.slideMargin;return g}};return(t={doCss:function(){return!(!f.useCSS||!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],i=document.documentElement,t=0;t<e.length;t++)if(e[t]in i.style)return!0}())},keyPress:function(){f.keyPress&&w(document).on("keyup.lightslider",function(e){w(":focus").is("input, textarea")||(e.preventDefault?e.preventDefault():e.returnValue=!1,37===e.keyCode?h.goToPrevSlide():39===e.keyCode&&h.goToNextSlide())})},controls:function(){f.controls&&(h.after('<div class="lSAction"><a class="lSPrev">'+f.prevHtml+'</a><a class="lSNext">'+f.nextHtml+"</a></div>"),f.autoWidth?x.calWidth(!1)<v&&p.find(".lSAction").hide():o<=f.item&&p.find(".lSAction").hide(),p.find(".lSAction a").on("click",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,"lSPrev"===w(this).attr("class")?h.goToPrevSlide():h.goToNextSlide(),!1}))},initialStyle:function(){var r=this;"fade"===f.mode&&(f.autoWidth=!1,f.slideEndAnimation=!1),f.auto&&(f.slideEndAnimation=!1),f.autoWidth&&(f.slideMove=1,f.item=1),f.loop&&(f.slideMove=1,f.freeMove=!1),f.onBeforeStart.call(this,h),x.chbreakpoint(),h.addClass("lightSlider").wrap('<div class="lSSlideOuter '+f.addClass+'"><div class="lSSlideWrapper"></div></div>'),p=h.parent(".lSSlideWrapper"),!0===f.rtl&&p.parent().addClass("lSrtl"),f.vertical?(p.parent().addClass("vertical"),v=f.verticalHeight,p.css("height",v+"px")):v=h.outerWidth(),d.addClass("lslide"),!0===f.loop&&"slide"===f.mode&&(x.calSW(),x.clone=function(){if(x.calWidth(!0)>v){for(var e=0,i=0,t=0;t<d.length&&(i++,!((e+=parseInt(h.find(".lslide").eq(t).width())+f.slideMargin)>=v+f.slideMargin));t++);var n=!0===f.autoWidth?i:f.item;if(n<h.find(".clone.left").length)for(var l=0;l<h.find(".clone.left").length-n;l++)d.eq(l).remove();if(n<h.find(".clone.right").length)for(var a=d.length-1;a>d.length-1-h.find(".clone.right").length;a--)m--,d.eq(a).remove();for(var s=h.find(".clone.right").length;s<n;s++)h.find(".lslide").eq(s).clone().removeClass("lslide").addClass("clone right").appendTo(h),m++;for(var o=h.find(".lslide").length-h.find(".clone.left").length;o>h.find(".lslide").length-n;o--)h.find(".lslide").eq(o-1).clone().removeClass("lslide").addClass("clone left").prependTo(h);d=h.children()}else d.hasClass("clone")&&(h.find(".clone").remove(),r.move(h,0))},x.clone()),x.sSW=function(){o=d.length,!0===f.rtl&&!1===f.vertical&&(b="margin-left"),!1===f.autoWidth&&d.css(S,M+"px"),d.css(b,f.slideMargin+"px"),g=x.calWidth(!1),h.css(S,g+"px"),!0===f.loop&&"slide"===f.mode&&!1===i&&(m=h.find(".clone.left").length)},x.calL=function(){d=h.children(),o=d.length},this.doCss()&&p.addClass("usingCss"),x.calL(),"slide"===f.mode?(x.calSW(),x.sSW(),!0===f.loop&&(c=r.slideValue(),this.move(h,c)),!1===f.vertical&&this.setHeight(h,!1)):(this.setHeight(h,!0),h.addClass("lSFade"),this.doCss()||(d.fadeOut(0),d.eq(m).fadeIn(0))),!0===f.loop&&"slide"===f.mode?d.eq(m).addClass("active"):d.first().addClass("active")},pager:function(){var u=this;if(x.createPager=function(){T=(v-(f.thumbItem*f.thumbMargin-f.thumbMargin))/f.thumbItem;var e=p.find(".lslide"),i=p.find("img"),t=p.find(".lslide").length,n=0,l="",a=0;for(n=0;n<t;n++){"slide"===f.mode&&(f.autoWidth?a+=(parseInt(e.eq(n).width())+f.slideMargin)*f.slideMove:a=n*((M+f.slideMargin)*f.slideMove));var s=e.eq(n*f.slideMove).attr("data-thumb"),o=i.eq((n+1)*f.slideMove).attr("alt");if(!0===f.gallery?l+='<li style="width:100%;'+S+":"+T+"px;"+b+":"+f.thumbMargin+'px"><span><img src="'+s+'" alt="'+o+'" /></span></li>':l+="<li><span>"+(n+1)+"</span></li>","slide"===f.mode&&a>=g-v-f.slideMargin){n+=1;var r=2;f.autoWidth&&(l+="<li><span>"+(n+1)+"</span></li>",r=1),n<r?(l=null,p.parent().addClass("noPager")):p.parent().removeClass("noPager");break}}var d=p.parent();d.find(".lSPager").html(l),!0===f.gallery&&(!0===f.vertical&&d.find(".lSPager").css("width",f.vThumbWidth+"px"),C=n*(f.thumbMargin+T)+.5,d.find(".lSPager").css({property:C+"px","transition-duration":f.speed+"ms"}),!0===f.vertical&&p.parent().css("padding-right",f.vThumbWidth+f.galleryMargin+"px"),d.find(".lSPager").css(S,C+"px"));var c=d.find(".lSPager").find("li");c.first().addClass("active"),c.on("mouseenter",function(){return!0===f.loop&&"slide"===f.mode?m+=c.index(this)-d.find(".lSPager").find("li.active").index():m=c.index(this),h.mode(!1),!0===f.gallery&&u.slideThumb(),!1})},f.pager){var e="lSpg";f.gallery&&(e="lSGallery"),p.after('<ul class="lSPager '+e+'"></ul>');var i=f.vertical?"margin-left":"margin-top";p.parent().find(".lSPager").css(i,f.galleryMargin+"px"),x.createPager()}setTimeout(function(){x.init()},0)},setHeight:function(n,l){var a=null,e=this;a=f.loop?n.children(".lslide ").first():n.children().first();var i=function(){var e=a.outerHeight(),i=0,t=e;l&&(e=0,i=100*t/v),n.css({height:e+"px","padding-bottom":i+"%"})};i(),a.find("img").length?a.find("img")[0].complete?(i(),r||e.auto()):a.find("img").load(function(){setTimeout(function(){i(),r||e.auto()},100)}):r||e.auto()},active:function(e,i){this.doCss()&&"fade"===f.mode&&p.addClass("on");var t,n,l=0;m*f.slideMove<o?(e.removeClass("active"),this.doCss()||"fade"!==f.mode||!1!==i||e.fadeOut(f.speed),l=!0===i?m:m*f.slideMove,!0===i&&(n=(t=e.length)-1,t<=l+1&&(l=n)),!0===f.loop&&"slide"===f.mode&&(l=!0===i?m-h.find(".clone.left").length:m*f.slideMove,!0===i&&(n=(t=e.length)-1,l+1===t?l=n:t<l+1&&(l=0))),this.doCss()||"fade"!==f.mode||!1!==i||e.eq(l).fadeIn(f.speed),e.eq(l).addClass("active")):(e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==f.mode||!1!==i||(e.fadeOut(f.speed),e.eq(l).fadeIn(f.speed)))},move:function(e,i){!0===f.rtl&&(i=-i),this.doCss()?!0===f.vertical?e.css({transform:"translate3d(0px, "+-i+"px, 0px)","-webkit-transform":"translate3d(0px, "+-i+"px, 0px)"}):e.css({transform:"translate3d("+-i+"px, 0px, 0px)","-webkit-transform":"translate3d("+-i+"px, 0px, 0px)"}):!0===f.vertical?e.css("position","relative").animate({top:-i+"px"},f.speed,f.easing):e.css("position","relative").animate({left:-i+"px"},f.speed,f.easing);var t=p.parent().find(".lSPager").find("li");this.active(t,!0)},fade:function(){this.active(d,!1);var e=p.parent().find(".lSPager").find("li");this.active(e,!0)},slide:function(){var e=this;x.calSlide=function(){v<g&&(c=e.slideValue(),e.active(d,!1),c>g-v-f.slideMargin?c=g-v-f.slideMargin:c<0&&(c=0),e.move(h,c),!0===f.loop&&"slide"===f.mode&&(m>=o-h.find(".clone.left").length/f.slideMove&&e.resetSlide(h.find(".clone.left").length),0===m&&e.resetSlide(p.find(".lslide").length)))},x.calSlide()},resetSlide:function(e){var i=this;p.find(".lSAction a").addClass("disabled"),setTimeout(function(){m=e,p.css("transition-duration","0ms"),c=i.slideValue(),i.active(d,!1),t.move(h,c),setTimeout(function(){p.css("transition-duration",f.speed+"ms"),p.find(".lSAction a").removeClass("disabled")},50)},f.speed+100)},slideValue:function(){var e=0;if(!1===f.autoWidth)e=m*((M+f.slideMargin)*f.slideMove);else for(var i=e=0;i<m;i++)e+=parseInt(d.eq(i).width())+f.slideMargin;return e},slideThumb:function(){var e;switch(f.currentPagerPosition){case"left":e=0;break;case"middle":e=v/2-T/2;break;case"right":e=v-T}var i=m-h.find(".clone.left").length,t=p.parent().find(".lSPager");"slide"===f.mode&&!0===f.loop&&(i>=t.children().length?i=0:i<0&&(i=t.children().length));var n=i*(T+f.thumbMargin)-e;C<n+v&&(n=C-v-f.thumbMargin),n<0&&(n=0),this.move(t,n)},auto:function(){f.auto&&(clearInterval(r),r=setInterval(function(){h.goToNextSlide()},f.pause))},pauseOnHover:function(){var e=this;f.auto&&f.pauseOnHover&&(p.on("mouseenter",function(){w(this).addClass("ls-hover"),h.pause(),f.auto=!0}),p.on("mouseleave",function(){w(this).removeClass("ls-hover"),p.find(".lightSlider").hasClass("lsGrabbing")||e.auto()}))},touchMove:function(e,i){if(p.css("transition-duration","0ms"),"slide"===f.mode){var t=c-(e-i);if(t>=g-v-f.slideMargin)if(!1===f.freeMove)t=g-v-f.slideMargin;else{var n=g-v-f.slideMargin;t=n+(t-n)/5}else t<0&&(!1===f.freeMove?t=0:t/=5);this.move(h,t)}},touchEnd:function(e){if(p.css("transition-duration",f.speed+"ms"),"slide"===f.mode){var a=!1,i=!0;(c-=e)>g-v-f.slideMargin?(c=g-v-f.slideMargin,!1===f.autoWidth&&(a=!0)):c<0&&(c=0);var t=function(e){var i=0;if(a||e&&(i=1),f.autoWidth)for(var t=0,n=0;n<d.length&&(t+=parseInt(d.eq(n).width())+f.slideMargin,m=n+i,!(c<=t));n++);else{var l=c/((M+f.slideMargin)*f.slideMove);m=parseInt(l)+i,c>=g-v-f.slideMargin&&l%1!=0&&m++}};e>=f.swipeThreshold?(t(!1),i=!1):e<=-f.swipeThreshold&&(t(!0),i=!1),h.mode(i),this.slideThumb()}else e>=f.swipeThreshold?h.goToPrevSlide():e<=-f.swipeThreshold&&h.goToNextSlide()},enableDrag:function(){var t=this;if(!u){var n=0,l=0,a=!1;p.find(".lightSlider").addClass("lsGrab"),p.on("mousedown",function(e){if(g<v&&0!==g)return!1;"lSPrev"!==w(e.target).attr("class")&&"lSNext"!==w(e.target).attr("class")&&(n=!0===f.vertical?e.pageY:e.pageX,a=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,p.scrollLeft+=1,p.scrollLeft-=1,p.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(r))}),w(window).on("mousemove",function(e){a&&(l=!0===f.vertical?e.pageY:e.pageX,t.touchMove(l,n))}),w(window).on("mouseup",function(e){if(a){p.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab");var i=(l=!(a=!1)===f.vertical?e.pageY:e.pageX)-n;Math.abs(i)>=f.swipeThreshold&&w(window).on("click.ls",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopImmediatePropagation(),e.stopPropagation(),w(window).off("click.ls")}),t.touchEnd(i)}})}},enableTouch:function(){var l=this;if(u){var a={},s={};p.on("touchstart",function(e){s=e.originalEvent.targetTouches[0],a.pageX=e.originalEvent.targetTouches[0].pageX,a.pageY=e.originalEvent.targetTouches[0].pageY,clearInterval(r)}),p.on("touchmove",function(e){if(g<v&&0!==g)return!1;var i=e.originalEvent;s=i.targetTouches[0];var t=Math.abs(s.pageX-a.pageX),n=Math.abs(s.pageY-a.pageY);!0===f.vertical?(t<3*n&&e.preventDefault(),l.touchMove(s.pageY,a.pageY)):(n<3*t&&e.preventDefault(),l.touchMove(s.pageX,a.pageX))}),p.on("touchend",function(){if(g<v&&0!==g)return!1;var e;e=!0===f.vertical?s.pageY-a.pageY:s.pageX-a.pageX,l.touchEnd(e)})}},build:function(){var e=this;e.initialStyle(),this.doCss()&&(!0===f.enableTouch&&e.enableTouch(),!0===f.enableDrag&&e.enableDrag()),w(window).on("focus",function(){e.auto()}),w(window).on("blur",function(){clearInterval(r)}),e.pager(),e.pauseOnHover(),e.controls(),e.keyPress()}}).build(),x.init=function(){x.chbreakpoint(),!0===f.vertical?(v=1<f.item?f.verticalHeight:d.outerHeight(),p.css("height",v+"px")):v=p.outerWidth(),!0===f.loop&&"slide"===f.mode&&x.clone(),x.calL(),"slide"===f.mode&&h.removeClass("lSSlide"),"slide"===f.mode&&(x.calSW(),x.sSW()),setTimeout(function(){"slide"===f.mode&&h.addClass("lSSlide")},1e3),f.pager&&x.createPager(),!0===f.adaptiveHeight&&!1===f.vertical&&h.css("height",d.eq(m).outerHeight(!0)),!1===f.adaptiveHeight&&("slide"===f.mode?!1===f.vertical?t.setHeight(h,!1):t.auto():t.setHeight(h,!0)),!0===f.gallery&&t.slideThumb(),"slide"===f.mode&&t.slide(),!1===f.autoWidth?d.length<=f.item?p.find(".lSAction").hide():p.find(".lSAction").show():x.calWidth(!1)<v&&0!==g?p.find(".lSAction").hide():p.find(".lSAction").show()},h.goToPrevSlide=function(){if(0<m)f.onBeforePrevSlide.call(this,h,m),m--,h.mode(!1),!0===f.gallery&&t.slideThumb();else if(!0===f.loop){if(f.onBeforePrevSlide.call(this,h,m),"fade"===f.mode)m=parseInt((o-1)/f.slideMove);h.mode(!1),!0===f.gallery&&t.slideThumb()}else!0===f.slideEndAnimation&&(h.addClass("leftEnd"),setTimeout(function(){h.removeClass("leftEnd")},400))},h.goToNextSlide=function(){var e=!0;"slide"===f.mode&&(e=t.slideValue()<g-v-f.slideMargin);m*f.slideMove<o-f.slideMove&&e?(f.onBeforeNextSlide.call(this,h,m),m++,h.mode(!1),!0===f.gallery&&t.slideThumb()):!0===f.loop?(f.onBeforeNextSlide.call(this,h,m),m=0,h.mode(!1),!0===f.gallery&&t.slideThumb()):!0===f.slideEndAnimation&&(h.addClass("rightEnd"),setTimeout(function(){h.removeClass("rightEnd")},400))},h.mode=function(e){!0===f.adaptiveHeight&&!1===f.vertical&&h.css("height",d.eq(m).outerHeight(!0)),!1===i&&("slide"===f.mode?t.doCss()&&(h.addClass("lSSlide"),""!==f.speed&&p.css("transition-duration",f.speed+"ms"),""!==f.cssEasing&&p.css("transition-timing-function",f.cssEasing)):t.doCss()&&(""!==f.speed&&h.css("transition-duration",f.speed+"ms"),""!==f.cssEasing&&h.css("transition-timing-function",f.cssEasing))),e||f.onBeforeSlide.call(this,h,m),"slide"===f.mode?t.slide():t.fade(),p.hasClass("ls-hover")||t.auto(),setTimeout(function(){e||f.onAfterSlide.call(this,h,m)},f.speed),i=!0},h.play=function(){h.goToNextSlide(),f.auto=!0,t.auto()},h.pause=function(){f.auto=!1,clearInterval(r)},h.refresh=function(){x.init()},h.getCurrentSlideCount=function(){var e=m;if(f.loop){var i=p.find(".lslide").length,t=h.find(".clone.left").length;e=m<=t-1?i+(m-t):i+t<=m?m-i-t:m-t}return e+1},h.getTotalSlideCount=function(){return p.find(".lslide").length},h.goToSlide=function(e){m=f.loop?e+h.find(".clone.left").length-1:e,h.mode(!1),!0===f.gallery&&t.slideThumb()},h.destroy=function(){h.lightSlider&&(h.goToPrevSlide=function(){},h.goToNextSlide=function(){},h.mode=function(){},h.play=function(){},h.pause=function(){},h.refresh=function(){},h.getCurrentSlideCount=function(){},h.getTotalSlideCount=function(){},h.goToSlide=function(){},h.lightSlider=null,x={init:function(){}},h.parent().parent().find(".lSAction, .lSPager").remove(),h.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),h.children().removeAttr("style"),d.removeClass("lslide active"),h.find(".clone").remove(),r=d=null,i=!1,m=0)},setTimeout(function(){f.onSliderLoad.call(this,h)},10),w(window).on("resize orientationchange",function(e){setTimeout(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,x.init()},200)}),this}}(jQuery);